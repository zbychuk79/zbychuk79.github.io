<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Węzeł IPFS w mojej sieci LAN - Zbychuk&#39;s HomePage</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Węzeł IPFS w mojej sieci LAN" />
<meta property="og:description" content="Informacje na temat sieci IPFS i oprogramowaniu do jej obsługi ustawionym w mojej sieci LAN." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zbychuk79.github.io/posts/ipfs/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-27T19:50:00+02:00" />
<meta property="article:modified_time" content="2023-12-27T19:50:00+02:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Węzeł IPFS w mojej sieci LAN"/>
<meta name="twitter:description" content="Informacje na temat sieci IPFS i oprogramowaniu do jej obsługi ustawionym w mojej sieci LAN."/>

	<link href="https://fonts.googleapis.com/css2?family=Fira+Sans&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
	<link rel="stylesheet" type="text/css" media="screen" href="https://zbychuk79.github.io/css/main.css" />


</head>
<body>
	<div class="content">
		<div class="content">
<header>
<div class="main">
	<a href="https://zbychuk79.github.io/">Zbychuk&#39;s HomePage</a>
</div>
<nav>
			

</nav>
</header>
<main>
<article>
		<div class="title">
			<h1 class="title">Węzeł IPFS w mojej sieci LAN</h1>
			<div class="meta"> </div>
		</div>
		<div>
			
		</div>

		<section class="body">
			<hr>
<p>Nowy opis ustawienia:</p>
<ul>
<li><a href="https://github.com/ipfs/kubo/blob/master/misc/README.md">Ustawienie Kubo IPFS</a></li>
</ul>
<hr>
<p>Informacje na temat IPFS:</p>
<ul>
<li><a href="https://ipfs.io">ipfs.io</a> - Główna strona projektu</li>
</ul>
<p>To jest tylko mały indeks z linkami stron, które umieściłem w sieci IPFS.</p>
<ul>
<li><a href="ipfs://QmZd4AUg2du3wYWSRYiPrvRD2P3NzBPbGKomLSfcb4mf3b/">Galeria zdjęć</a></li>
<li><a href="ipfs://QmUzgqP717dq2MnFf44d2GzuyKem7qG8itow7nKi6Szk16/">Kilka moich plików DJVU</a></li>
</ul>
<hr>
<p>Oto czynności, które wykonałem aby uruchomić węzeł <strong>IPFS</strong> na moim <strong>Raspberry Pi</strong>.</p>
<p>Plik binarny <em><strong>ipfs</strong></em> przeznaczony dla <strong>Raspberry Pi</strong> zapisałem do katalogu <em>/usr/local/binz/</em>.</p>
<p>W pierwszej kolejności uruchomiłem <em><strong>ipfs</strong></em> ręcznie z konta użytkownika <strong>pi</strong>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ipfs
</span></span></code></pre></div><p>Potem w pliku konfiguracyjnym ustawiłem, żeby <em><strong>ipfs</strong></em> nie działał tylko na adresie 127.0.0.1, ale na lokalnym porcie ethernet (na razie nie ma tu opisu tej operacji).</p>
<p>Do pliku <em>/etc/systemd/system/ipfs.service</em> zapisałem następującą treść:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-service" data-lang="service"><span style="display:flex;"><span><span style="color:#66d9ef">[Unit]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Description</span><span style="color:#f92672">=</span><span style="color:#e6db74">IPFS Daemon</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[Service]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ExecStart</span><span style="color:#f92672">=</span><span style="color:#e6db74">/usr/local/binz/ipfs daemon</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">User</span><span style="color:#f92672">=</span><span style="color:#e6db74">pi</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Restart</span><span style="color:#f92672">=</span><span style="color:#e6db74">always</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">LimitNOFILE</span><span style="color:#f92672">=</span><span style="color:#e6db74">10240</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[Install]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">WantedBy</span><span style="color:#f92672">=</span><span style="color:#e6db74">multi-user.target</span>
</span></span></code></pre></div><p>Następnie wykonałem następujące komendy z konta użytkownika <strong>pi</strong>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo systemctl start ipfs
</span></span><span style="display:flex;"><span>sudo systemctl enable ipfs
</span></span></code></pre></div><p>Polecenie:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>sudo systemctl status ipfs
</span></span></code></pre></div><p>powinno pokazać coś podobnego do:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>● ipfs.service - IPFS Daemon
</span></span><span style="display:flex;"><span>   Loaded: loaded (/etc/systemd/system/ipfs.service; enabled; vendor preset: enabled)
</span></span><span style="display:flex;"><span>   Active: active (running) since Sun 2022-02-20 14:31:55 CET; 43min ago
</span></span><span style="display:flex;"><span> Main PID: 21567 (ipfs)
</span></span><span style="display:flex;"><span>    Tasks: 18 (limit: 4915)
</span></span><span style="display:flex;"><span>   CGroup: /system.slice/ipfs.service
</span></span><span style="display:flex;"><span>           └─21567 /usr/local/binz/ipfs daemon
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Swarm announcing /ip4/127.0.0.1/udp/4001/quic
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Swarm announcing /ip4/178.37.157.170/udp/4001/quic
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Swarm announcing /ip4/192.168.77.8/tcp/4001
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Swarm announcing /ip4/192.168.77.8/udp/4001/quic
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Swarm announcing /ip6/::1/tcp/4001
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Swarm announcing /ip6/::1/udp/4001/quic
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: API server listening on /ip4/192.168.77.8/tcp/5001
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: WebUI: http://192.168.77.8:5001/webui
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Gateway (readonly) server listening on /ip4/192.168.77.8/tcp/80
</span></span><span style="display:flex;"><span>Feb 20 14:31:56 q ipfs[21567]: Daemon is ready
</span></span></code></pre></div><p>Uruchomienie <em><strong>ipfs</strong></em> przez daemon <em><strong>systemd</strong></em> spowoduje, że będzie on nadzorowany i w przypadku zabicia procesu zostanie automatycznie zrestartowany.</p>

		</section>

		<div class="post-tags">
			
				
			
		</div>
		
	
	<footer>
<hr>⚡️
	2023  <a href="https://github.com/athul/archie">Temat Archie</a> | Wybudowane przez <a href="https://gohugo.io">Hugo</a>
</footer>




<script>
      feather.replace()
</script>

	</div>
</body>
</html>
